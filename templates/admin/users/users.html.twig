<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<title>

			{% block title %}TheWalk : utilisateurs
			{% endblock %}
		</title>
		{% block stylesheets %}
			<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
			<link rel="stylesheet" href="{{ asset('css/admin.css') }}"/>
		{% endblock %}
	</head>
	<body>
		{% block body %}

			<nav>

				<header>
					<a href="{{ path('security_profile') }}">
						<span></span>
					</a>
					Admin
					<a href="{{ path('home') }}"></a>
				</header>

				<ul>
					<li>Navigation</li>
					<li>
						<a href="{{ path('admin') }}">Accueil</a>
					</li>
					<li>
						<a class="active" href="{{ path('users') }}">Utilisateurs</a>
					</li>
					<li>
						<a href="{{ path('members') }}">Membres</a>
					</li>
					<li>
						<a href="{{ path('tasks') }}">Fonctions</a>
					</li>
					<li>
						<a href="{{ path('gallery') }}">Gallerie</a>
					</li>
					<li>
						<a>Agenda</a>
					</li>
					<li>
						<a href="{{ path('articles') }}">Articles</a>
					</li>
				</ul>

			</nav>

			<main>

				<h1>Liste des utilisateurs</h1>


			</br>
			<table class="table table-dark">
				<thead>
					<tr>
						<th scope="col">Utilisateur</th>
						<th>Email</th>
						<th>Rôles</th>
						<th scope="col">Modifier</th>
						<th scope="col">Supprimer</th>
					</tr>
				</thead>
				<tbody>
					{% for user in users %}
						<tr>
							<td>{{ user.firstname }}
								{{ user.lastname }}</td>
							<td>{{ user.id }}</td>
							<td>{{ user.email }}</td>
							<td>
								{# On boucle sur les rôles #}
								{% for role in user.roles %}
									{% if role == "ROLE_USER" %}
										Utilisateur
									{% elseif role == "ROLE_MEMBER" %}
										Membre
									{% elseif role == "ROLE_ADMIN" %}
										Administrateur
									{% endif %}
								{% endfor %}
							</td>
							<td>
								<a class="btn btn-outline-info" href="{{ path('edit_user', {'id': user.id}) }}" role="button">Modifier</a>
							</td>
							<td>
								<a class="btn btn-outline-danger" href="" role="button" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette utilisateur ?')">Supprimer</a>

							</td>

						</tr>
					{% else %}
						<p>Aucun utilisateur inscrit</p>
					{% endfor %}
				</tbody>
			</table>
		</body>
	</html>
</main>{% endblock %}</body></html>
